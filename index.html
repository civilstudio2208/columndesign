document.addEventListener('DOMContentLoaded', () => {

  const colSize = document.getElementById('colSize');
  const axialLoad = document.getElementById('axialLoad');
  const momentX = document.getElementById('momentX');
  const momentY = document.getElementById('momentY');
  const fck = document.getElementById('fck');
  const fy = document.getElementById('fy');

  const eValue = document.getElementById('eValue');
  const puRatio = document.getElementById('puRatio');
  const designStatus = document.getElementById('designStatus');

  function calculateDesign() {
    const colArea = parseFloat(colSize.value) * parseFloat(colSize.value) / 1000000; // m2
    const E = 5000 * Math.sqrt(parseFloat(fck.value));
    const pu = parseFloat(axialLoad.value);

    const puByFckAc = pu / (parseFloat(fck.value) * colArea * 1000); // converting m2 to mm2

    eValue.innerHTML = E.toFixed(2);
    puRatio.innerHTML = puByFckAc.toFixed(3);

    if(puByFckAc <= 0.4){
      designStatus.innerHTML = 'Safe';
      designStatus.style.color = '#00FFAB';
    } else {
      designStatus.innerHTML = 'Unsafe';
      designStatus.style.color = 'red';
    }
  }

  [colSize, axialLoad, momentX, momentY, fck, fy].forEach(input => {
    input.addEventListener('input', calculateDesign);
  });

  calculateDesign();

});
